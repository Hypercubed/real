import test from 'ava';
import { Rational } from '../../src/';

test('fp', t => {
  const fp = (x: any) => new Rational(x).fp().toString();

  t.is(fp(1),                       '0');
  t.is(fp(-1),                      '0');
  t.is(fp(2),                       '0');
  t.is(fp(-2),                      '0');

  t.is(fp(0.1),                     '1/10');
  t.is(fp(2.5),                     '1/2');
  t.is(fp(10),                      '0');

  t.is(fp(-0.1),                    '1/10');
  t.is(fp(-2.5),                    '1/2');
  t.is(fp(-10),                     '0');

  t.is(fp(9007199254740992n),       '0');
  t.is(fp(9007199254740994n),       '0');
  t.is(fp(10_000_000_000_000_000n), '0');

  t.is(fp('900719.9254740992'),     '9037833/9765625');
  t.is(fp('90071992.54740994'),     '27370497/50000000');
  t.is(fp(10_000_000.00000),        '0');

  t.is(fp('-900719.9254740992'),    '9037833/9765625');
  t.is(fp('-90071992.54740994'),    '27370497/50000000');
  t.is(fp(-10_000_000.00000),       '0');
});
