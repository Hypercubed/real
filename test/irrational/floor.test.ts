import test from 'ava';
import Irrational from '../../src/irrational';

test('floor', t => {
  const floor = (x: any) => new Irrational(x).floor().toString();

  t.is(floor(1),                       '1.0000000000000000000e+0');
  t.is(floor(-1),                     '-1.0000000000000000000e+0');
  t.is(floor(2),                       '2.0000000000000000000e+0');
  t.is(floor(-2),                     '-2.0000000000000000000e+0');

  t.is(floor(0.1),                     '0.0000000000000000000e+0');
  t.is(floor(2.5),                     '2.0000000000000000000e+0');
  t.is(floor(10),                      '1.0000000000000000000e+1');

  t.is(floor(-0.1),                   '-1.0000000000000000000e+0');
  t.is(floor(-2.5),                   '-3.0000000000000000000e+0');
  t.is(floor(-10),                    '-1.0000000000000000000e+1');

  t.is(floor(9007199254740992n),       '9.0071992547409920000e+15');
  t.is(floor(9007199254740994n),       '9.0071992547409940000e+15');
  t.is(floor(10_000_000_000_000_000n), '1.0000000000000000000e+16');
 
  t.is(floor('900719.9254740992'),     '9.0071900000000000000e+5');
  t.is(floor('90071992.54740994'),     '9.0071992000000000000e+7');
  t.is(floor(10_000_000.00000),        '1.0000000000000000000e+7');

  t.is(floor('-900719.9254740992'),   '-9.0072000000000000000e+5');
  t.is(floor('-90071992.54740994'),   '-9.0071993000000000000e+7');
  t.is(floor(-10_000_000.00000),      '-1.0000000000000000000e+7');
});
