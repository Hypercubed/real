import test from 'ava';
import Real from '../../src/irrational';

test('trunc', t => {
  const trunc = (x: any) => new Real(x).trunc().toString();

  t.is(trunc(1),   '1.0000000000000000000e+0');
  t.is(trunc(-1), '-1.0000000000000000000e+0');
  t.is(trunc(2),   '2.0000000000000000000e+0');
  t.is(trunc(-2), '-2.0000000000000000000e+0');

  t.is(trunc(0.1), '0.0000000000000000000e+0');
  t.is(trunc(2.5), '2.0000000000000000000e+0');
  t.is(trunc(10),  '1.0000000000000000000e+1');

  t.is(trunc(-0.1),  '0.0000000000000000000e+0');
  t.is(trunc(-2.5), '-2.0000000000000000000e+0');
  t.is(trunc(-10),  '-1.0000000000000000000e+1');

  t.is(trunc(9007199254740992n),       '9.0071992547409920000e+15');
  t.is(trunc(9007199254740994n),       '9.0071992547409940000e+15');
  t.is(trunc(10_000_000_000_000_000n), '1.0000000000000000000e+16');

  t.is(trunc('900719.9254740992'), '9.0071900000000000000e+5');
  t.is(trunc('90071992.54740994'), '9.0071992000000000000e+7');
  t.is(trunc(10_000_000.00000),    '1.0000000000000000000e+7');

  t.is(trunc('-900719.9254740992'), '-9.0071900000000000000e+5');
  t.is(trunc('-90071992.54740994'), '-9.0071992000000000000e+7');
  t.is(trunc(-10_000_000.00000),    '-1.0000000000000000000e+7');
});
